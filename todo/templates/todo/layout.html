{% extends "layout.html" %}

{%block sidearea %}

<!-- Sidebar Widgets Column -->
<!-- Search Widget -->
<div class="card my-4">
    <h5 class="card-header">Search</h5>
    <div class="card-body">
        <div class="input-group">
            <input type="text" id="search-input" onkeyup="wait_for_enterkey_todo()" class="form-control"
                   placeholder="Search for..."/>
            <span class="input-group-btn">
          <button class="btn btn-secondary" type="button" onclick="search_todo();">Go!</button>

        </span>
        </div>
    </div>
</div>


<!-- Side Widget -->
<div class="card my-4">
    <h5 class="card-header">todo(my)</h5>
    <div class="card-body">
        <ul>
            <li>
                <a href="/todo/category/_none/"> todo ({{todo_count_uncomplete}})</a>
            </li>
            <li>
                <a href="/todo/completeListByMe"> 완료 ({{todo_count_complete}})</a>
            </li>

        </ul>
    </div>
</div>

<!-- Side Widget -->
<div class="card my-4">
    <h5 class="card-header">todo(전체)</h5>
    <div class="card-body">
        <ul>
            <li>
                <a href="/todo/category/_none/"> 전체(todo) ({{total_todo_count_uncomplete}}) </a>
            </li>
            <li>
                <a href="/todo/completeList_total"> 전체(완료) ({{total_todo_count_complete}}) </a>
            </li>

        </ul>
    </div>
</div>

<!-- Side Widget -->
<div class="card my-4">
    <h5 class="card-header">question</h5>
    <div class="card-body">
        <ul>
            {% for category in category_list %}
            <li>
                <a href="{{category.get_absolute_url}}">{{ category.name }} ({{ category.todo_set.count }})</a>
            </li>
            {% endfor %}

        </ul>
    </div>
</div>


<script >
function search_todo(){
    var search_value = document.getElementById('search-input').value;
    location.href="/todo/search/" + search_value + "/";
}
1
function wait_for_enterkey_todo(){
    if (window.event.keyCode == 13){
        search_todo();
    }
}
</script>

{%endblock%}
